(function(n){"use strict";n.numberVsRange=function(n,t,i,r){var f,u=(1-r/10)*i,e;return f=n>=t.min&&n<=t.max?1:n<t.min-u?0:n<t.min?1-(t.min-n)/u:n>t.max+u?0:1-(n-t.max)/u,e=1-f,[f,e]};n.ordinal=function(t,i,r,u){if(i.length==0)return[0,0];var e,f={min:null,max:null};return r.forEach(function(n,r){n==t&&(e=r);i.forEach(function(t){f.min||t!=n||(f.min=r);t==n&&(f.max=r)})}),n.numberVsRange(e,f,r.length-1,u)};n.ordinal2=function(t,i,r,u,f){var o,e;return i.length==0?[0,0]:(o=[],i.forEach(function(n){o=o.concat(n)}),t.forEach(function(t){var i;r.forEach(function(n,r){n==t&&(i=r)});o.forEach(function(t){var o,c,s,l,h;r.forEach(function(n,i){n==t&&(o=i)});c={min:o,max:o};s=n.numberVsRange(i,c,r.length-1,u);(!e||e[0]<s[0])&&(e=s);f&&(o=i>o?o+r.length:o-r.length,l={min:o,max:o},h=n.numberVsRange(i,l,r.length-1,u),(!e||e[0]<h[0])&&(e=h))})}),e)};n.character=function(n,t){if(t.length==0)return[0,0];var i,r,u=[];return n.forEach(function(n){t.forEach(function(t){n==t&&u.push(n)})}),i=u.length>0?1:0,r=1-i,[i,r]};n.jaccard=function(n,t){var i=[],r=[];return n.forEach(function(n){t.forEach(function(t){n==t&&r.push(n)});i.push(n)}),t.forEach(function(n){i.indexOf(n)==-1&&i.push(n)}),r.length/i.length}})(this.tombioScore={});